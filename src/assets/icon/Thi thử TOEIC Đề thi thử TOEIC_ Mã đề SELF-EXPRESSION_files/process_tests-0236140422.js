var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");var timer=null,isTimeOut=!1;$(document).ready(function(){var a=!1,b=!0;"undefined"!=typeof testDuration&&(a=!0,"undefined"!=typeof autoStart&&(autoStart||(b=!1)));a&&displayTimer(b);$("#test-code").val()&&autoSave&&setInterval(autoSaveTest,6E5);$(".test-content form").submit(function(c){return onTestSubmit()});$(".mcqg-wrapper .view-in-compact-mode").on("click",function(){$(this).siblings(".clearfix").removeClass("clearfix").addClass("compact-mode");$(this).hide();$(this).siblings(".view-in-normal-mode").show()});$(".mcqg-wrapper .view-in-normal-mode").on("click",function(){$(this).siblings(".compact-mode").removeClass("compact-mode").addClass("clearfix");$(this).hide();$(this).siblings(".view-in-compact-mode").show()});$(document).on("change",".speed-adjustment-wrapper .speed-select",function(){var c=$(this).find(":selected").val();$(this).closest(".speed-adjustment-wrapper").siblings("audio").prop("playbackRate",c)});$randomBtn=$("#random-result-submit");0<$randomBtn.length&&$randomBtn.click(setRandomAnswersAndSubmit)});function onTestSubmit(){var a=$("#test-submission-error");a.html("");var b="";b=null!==timer?testDuration-timer.getTime():"";var c=isTimeOut?!1:!0;"undefined"!=typeof isStaff&&1==isStaff&&(c=!1);if(c){if(""!=b&&b<.75*testDuration)return b="B\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c n\u1ed9p b\u00e0i sau khi 75% th\u1eddi gian l\u00e0m b\u00e0i \u0111\u00e3 tr\u00f4i qua (v\u00e0 t\u1ea5t c\u1ea3 nh\u1eefng c\u00e2u h\u1ecfi \u0111\u00e3 \u0111\u01b0\u1ee3c tr\u1ea3 l\u1eddi).",console.log("error = ",b),$("#test-submission-error").html(b),!1;var d=[];$(".mcq-wrapper").each(function(){var e=$(this).find(".question-num").html().slice(0,-1);$(this).find('.options-wrapper input[type="radio"]:checked').val()||d.push(e)});if(0<d.length)return b="B\u1ea1n c\u00f2n "+d.length+" c\u00e2u h\u1ecfi ch\u01b0a tr\u1ea3 l\u1eddi: "+d.join("; "),console.log("error = ",b),a.html(b),!1}$("#timeTaken").val(b);$(".test-content form .submit-test").html("\u0110ang n\u1ed9p b\u00e0i. B\u1ea1n vui l\u00f2ng ch\u1edd trong gi\u00e2y l\u00e1t...").attr("disabled",!0);return!0}function displayTimer(a){a&&($(".test-timer-wrapper").css("display",""),timer=initializeTimer($(".test-timer"),testDuration),timer.start(),timer.addListener(function(b,c,d){300==d?alert("B\u1ea1n ch\u1ec9 c\u00f2n l\u1ea1i 5 ph\u00fat. Xin vui l\u00f2ng xem l\u1ea1i nh\u1eefng c\u00e2u tr\u1ea3 l\u1eddi c\u1ee7a m\u00ecnh."):0==d&&(isTimeOut=!0,$(".test-content form").submit())}))}
function setRandomAnswersAndSubmit(){for(var a,b=1;200>=b;b++)a="ABCD".charAt(Math.floor(4*Math.random())),a=b.toString()+"-"+a,$("#"+a).prop("checked",!0);$(".test-content form").submit()}
function autoSaveTest(){for(var a=[],b=1;200>=b;b++)a.push($("input[name="+b.toString()+"]:checked").val());b=$("#test-code").val();var c=null!==timer?testDuration-timer.getTime():"";$.ajax({url:"/de-thi-toeic/thi-thu-de-"+b+"/auto-save/",type:"POST",dataType:"json",data:{customerAnswers:JSON.stringify(a),timeTaken:c},success:function(){},error:function(d,e,f){}})}
function initializeTimer(a,b){a.data("timer",b);return a.TimeCircles({start:!1,direction:"Clockwise",count_past_zero:!1,fg_width:.1,circle_bg_color:"#CDB99C",time:{Days:{show:!1},Hours:{show:!0,text:"Hours",color:"#9A3334"},Minutes:{show:!0,text:"Minutes",color:"#333"},Seconds:{show:!0,text:"Seconds",color:"#0096C8"}}})};